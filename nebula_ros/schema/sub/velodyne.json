{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "LiDAR Velodyne common parameters.",
  "type": "object",
  "definitions": {
    "velodyne": {
      "type": "object",
      "properties": {
        "calibration_file": {
          "type": "string",
          "default": "$(find-pkg-share nebula_decoders)/calibration/velodyne/$(var sensor_model).yaml",
          "pattern": "^.*\\.yaml$",
          "description": "Sensor calibration file."
        },
        "setup_sensor": {
          "type": "boolean",
          "default": true,
          "readOnly": true,
          "description": "Enable sensor setup on hw-driver."
        },
        "advanced_diagnostics": {
          "type": "boolean",
          "default": false,
          "readOnly": true,
          "description": "Enable advanced diagnostics."
        },
        "launch_hw": {
          "type": "boolean",
          "readOnly": false,
          "description": "Launch hardware."
        },
        "sensor_model": {
          "type": "string",
          "readOnly": true,
          "enum": [
            "VLP16",
            "VLP32",
            "VLS128"
          ],
          "description": "LiDAR model."
        },
        "return_mode": {
          "type": "string",
          "enum": [
            "SingleStrongest",
            "SingleLast",
            "Dual",
            "SingleFirst"
          ],
          "description": "LiDAR return mode."
        },
        "gnss_port": {
          "type": "integer",
          "default": 2369,
          "minimum": 0,
          "readOnly": true,
          "description": "LiDAR GNSS port."
        },
        "min_range": {
          "type": "number",
          "default": 0.3,
          "minimum": 0.0,
          "description": "Sensor minimum single point range."
        },
        "max_range": {
          "type": "number",
          "default": 300.0,
          "minimum": 0.0,
          "description": "Sensor maximum single point range."
        },
        "packet_mtu_size": {
          "type": "integer",
          "default": 1500,
          "minimum": 0,
          "readOnly": true,
          "description": "Packet MTU size."
        },
        "rotation_speed": {
          "type": "integer",
          "default": 600,
          "minimum": 300,
          "maximum": 1200,
          "multipleOf": 60,
          "description": "Motor RPM, the sensor's internal spin rate."
        },
        "cloud_min_angle": {
          "type": "integer",
          "default": 0,
          "minimum": 0,
          "maximum": 360,
          "description": "Field of View, start degrees."
        },
        "cloud_max_angle": {
          "type": "integer",
          "default": 360,
          "minimum": 0,
          "maximum": 360,
          "description": "Field of View, end degrees."
        }
      },
      "allOf": [
        {
          "$ref": "lidar.json#/definitions/lidar"
        }
      ],
      "required": [
        "calibration_file",
        "setup_sensor",
        "advanced_diagnostics",
        "launch_hw",
        "sensor_model",
        "return_mode",
        "gnss_port",
        "min_range",
        "max_range",
        "packet_mtu_size",
        "rotation_speed",
        "cloud_min_angle",
        "cloud_max_angle"
      ]
    }
  }
}